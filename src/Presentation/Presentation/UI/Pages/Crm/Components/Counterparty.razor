@using Application.CRM.GetAllCounterparty
@rendermode InteractiveServer


<MudTable T="CounterpartyDto" Items="@_rowDtos" Hover="true" Editable="true" OnSave="SaveAsync">
    <ColGroup>
        <col style="width: 30px;" />
        <col/>
        <col/>

    </ColGroup>
    <HeaderContent>
        <MudTh>№</MudTh>
        <MudTh>Тип</MudTh>
        <MudTh>Назва</MudTh>
    </HeaderContent>
    <RowTemplate>
        <MudTd DataLabel="Параметр">@context.Id</MudTd>
        <MudTd DataLabel="Значення">@context.Type</MudTd>
        <MudTd DataLabel="Од.">@context.Name</MudTd>
    </RowTemplate>

</MudTable>



@code {
    private List<CounterpartyDto> _rowDtos = new();

    protected override async Task OnInitializedAsync()
    {
        var result = await Mediator.Send(new GetCounterpartyQuery());

        if (result.IsSuccess)
            _rowDtos = result.Value!;
    }

    private Task SaveAsync()
    {
        return Task.CompletedTask;
    }
}
